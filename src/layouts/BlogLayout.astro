---
import Layout from './Layout.astro';
import BlogSidebar from '../components/BlogSidebar.astro';

interface Props {
  title: string;
  description?: string;
  currentSlug?: string;
  showMobileCategories?: boolean;
  // OG meta props
  ogTitle?: string;
  ogDescription?: string;
  ogImage?: string;
  ogUrl?: string;
  ogType?: string;
  // Twitter props
  twitterTitle?: string;
  twitterDescription?: string;
  twitterImage?: string;
}

const { 
  title, 
  description, 
  currentSlug, 
  showMobileCategories = false,
  ogTitle,
  ogDescription,
  ogImage,
  ogUrl,
  ogType,
  twitterTitle,
  twitterDescription,
  twitterImage
} = Astro.props;
---

<Layout 
  title={title} 
  description={description}
  ogTitle={ogTitle}
  ogDescription={ogDescription}
  ogImage={ogImage}
  ogUrl={ogUrl}
  ogType={ogType}
  twitterTitle={twitterTitle}
  twitterDescription={twitterDescription}
  twitterImage={twitterImage}
>
  <slot name="head" />
  
  <div class="pt-16 min-h-screen flex">
    <!-- Fixed Sidebar -->
    <BlogSidebar currentSlug={currentSlug} />
    
    <!-- Main Content Area -->
    <main class="flex-1 min-w-0">
      <slot />
    </main>
  </div>
</Layout>

<style>
  /* Ensure the layout takes full height */
  .min-h-screen {
    min-height: 100vh;
  }
  
  /* Make sure the sidebar is always visible */
  @media (max-width: 1024px) {
    /* On smaller screens, we might want to make the sidebar toggleable */
    /* For now, keeping it always visible as requested */
  }
</style>